<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sundar Kanya ❤️</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Short+Stack&family=Homemade+Apple&display=swap">
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <!-- 🌗 Mode Toggle Button -->
  <button class="toggle-btn" id="modeToggle">🌞</button>

  <!-- 📤 Upload Button -->
  <div class="upload-container">
    <input type="file" id="imageUpload" accept="image/*" hidden />
    <label for="imageUpload" class="upload-btn">📤 Upload Image</label>
  </div>

  <!-- ❤️ Heart Paper -->
  <div class="paper heart"></div>

  <!-- 🖼️ Preloaded Papers -->
  <div class="paper image">
    <p> and I fallen in</p>
    <p>Love with You 😍 </p>
    <img src="images/1.jpg" />
  </div>

  <div class="paper image">
    <p></p>
    <img src="images/2.jpg" />
  </div>

  <div class="paper image">
    <p>How can be </p>
    <p> someone so cute ❤️ </p>
    <img src="images/3.jpg" />
  </div>

  <div class="paper red">
    <p class="p1"> and My Favorite</p>
    <p class="p2">Person 😍</p>
  </div>

  <div class="paper">
    <p class="p1">You are Cute </p>
    <p class="p1">Amazing <span style="color: red !important;">❤️</span></p>
  </div>

  <div class="paper">
    <p class="p1">Drag the papers to move!</p>
  </div>

  <!-- 🌟 Script Section -->
  <script>
    const toggleBtn = document.getElementById('modeToggle');
    const body = document.body;

    // Set initial mode to day
    body.classList.add('day-mode');
    toggleBtn.textContent = '🌞';

    toggleBtn.addEventListener('click', () => {
      if (body.classList.contains('day-mode')) {
        body.classList.remove('day-mode');
        body.classList.add('night-mode');
        toggleBtn.textContent = '🌙';
      } else {
        body.classList.remove('night-mode');
        body.classList.add('day-mode');
        toggleBtn.textContent = '🌞';
      }
    });

    // 📤 Handle Image Upload
    const imageUpload = document.getElementById('imageUpload');
    imageUpload.addEventListener('change', (event) => {
      const file = event.target.files[0];
      if (!file) return;

      const formData = new FormData();
formData.append('file', file);
formData.append('upload_preset', 'kriitika_upload'); // your preset name

fetch('https://api.cloudinary.com/v1_1/dpgi8oews/image/upload', {
  method: 'POST',
  body: formData
})
.then(res => res.json())
.then(data => {
  const newPaper = document.createElement('div');
  newPaper.className = 'paper image';
  newPaper.innerHTML = `
    <p>Your Uploaded Image 💖</p>
    <img src="${data.secure_url}" />
  `;
  document.body.appendChild(newPaper);
})
.catch(err => {
  console.error('Upload failed:', err);
  alert('Image upload failed. Please try again.');
});

    // 📱 Device Detection
    const ua = navigator.userAgent;
    const script = document.createElement('script');
    script.src = /Mobi|Android/i.test(ua) ? './mobile.js' : './script.js';
    document.body.appendChild(script);
  </script>
</body>
</html>
